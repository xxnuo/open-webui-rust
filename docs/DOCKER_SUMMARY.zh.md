# Docker è®¾ç½®æ‘˜è¦

## å·²åˆ›å»ºçš„å†…å®¹

ä¸º Open WebUI ä¸ Rust åç«¯åˆ›å»ºçš„å®Œæ•´ã€ç”Ÿäº§å°±ç»ªçš„ Docker Compose è®¾ç½®ï¼ŒåŒ…æ‹¬ï¼š

### Docker é…ç½®

1. **`docker-compose.yaml`** - ç”Ÿäº§æ ˆ
   - å¸¦å¥åº·æ£€æŸ¥çš„ PostgreSQL 16
   - ç”¨äºç¼“å­˜å’Œä¼šè¯ç®¡ç†çš„ Redis 7
   - å¸¦è‡ªåŠ¨è¿ç§»çš„ Rust åç«¯ï¼ˆActix-webï¼‰
   - ç”¨äºå®æ—¶åŠŸèƒ½çš„ Socket.IO æ¡¥æ¥ï¼ˆPythonï¼‰
   - å¸¦ Python åç«¯çš„å‰ç«¯ï¼ˆSvelteKitï¼‰
   - é€‚å½“çš„æœåŠ¡ä¾èµ–å…³ç³»å’Œå¥åº·æ£€æŸ¥
   - ç”¨äºæ•°æ®å­˜å‚¨çš„æŒä¹…å·

2. **`docker-compose.dev.yaml`** - å¼€å‘æ ˆ
   - ç”¨äºæœ¬åœ°å¼€å‘çš„ PostgreSQL å’Œ Redis
   - Socket.IO æ¡¥æ¥
   - å¯é€‰çš„ pgAdminï¼ˆæ•°æ®åº“ç®¡ç† UIï¼‰
   - å¯é€‰çš„ Redis Commanderï¼ˆRedis ç®¡ç† UIï¼‰
   - ä¼˜åŒ–ç”¨äºæœ¬åœ°è¿è¡Œ Rust åç«¯å’Œå‰ç«¯

3. **`rust-backend/Dockerfile`** - Rust åç«¯å®¹å™¨
   - å¤šé˜¶æ®µæ„å»ºï¼Œæœ€ç»ˆé•œåƒå°
   - ä¾èµ–ç¼“å­˜ä»¥åŠ å¿«æ„å»ºé€Ÿåº¦
   - è¿è¡Œæ—¶ä¼˜åŒ–
   - åŒ…å«è¿ç§»
   - å¥åº·æ£€æŸ¥ç«¯ç‚¹

4. **`rust-backend/Dockerfile.socketio`** - Socket.IO æ¡¥æ¥å®¹å™¨
   - Python 3.11 ç²¾ç®€åŸºç¡€é•œåƒ
   - å¸¦ Redis æ”¯æŒçš„ python-socketio
   - å¥åº·æ£€æŸ¥ç«¯ç‚¹
   - ä¼˜åŒ– WebSocket å¤„ç†

5. **`.dockerignore`** å’Œ **`rust-backend/.dockerignore`**
   - ä»æ„å»ºä¸­æ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶
   - å‡å°é•œåƒå¤§å°
   - åŠ å¿«æ„å»ºé€Ÿåº¦

### é…ç½®æ–‡ä»¶

6. **`env.example`** - ç¯å¢ƒå˜é‡æ¨¡æ¿
   - æ‰€æœ‰å¯é…ç½®é€‰é¡¹çš„æ–‡æ¡£
   - åˆç†çš„é»˜è®¤å€¼
   - å®‰å…¨è®¾ç½®
   - æ•°æ®åº“ã€Redis å’ŒæœåŠ¡é…ç½®

### ç®¡ç†è„šæœ¬

7. **`docker-manage.sh`** - ç»¼åˆç®¡ç†è„šæœ¬
   - è®¾ç½®ã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯å‘½ä»¤
   - æ—¥å¿—æŸ¥çœ‹å’Œå¥åº·æ£€æŸ¥
   - å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½
   - Shell è®¿é—®å®¹å™¨
   - å½©è‰²è¾“å‡º
   - ç ´åæ€§æ“ä½œçš„äº¤äº’å¼ç¡®è®¤

8. **`Makefile.docker`** - åŸºäº Make çš„ç®¡ç†ï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰
   - æ‰€æœ‰ docker-manage.sh åŠŸèƒ½
   - ç†Ÿæ‚‰çš„ Make ç•Œé¢
   - å¸¸ç”¨ä»»åŠ¡çš„å¿«é€Ÿåˆ«å
   - å¼€å‘ç‰¹å®šç›®æ ‡

### æ–‡æ¡£

9. **`DOCKER_README.zh.md`** - æ¦‚è§ˆå’Œç´¢å¼•
   - æ¶æ„å›¾
   - å¿«é€Ÿå‚è€ƒ
   - æ–‡æ¡£å¯¼èˆª

10. **`DOCKER_QUICKSTART.zh.md`** - 3åˆ†é’Ÿå¿«é€Ÿå…¥é—¨
    - åˆ†æ­¥è®¾ç½®
    - å¸¸ç”¨å‘½ä»¤
    - åŸºæœ¬æ•…éšœæ’é™¤
    - ç”Ÿäº§éƒ¨ç½²åŸºç¡€

11. **`DOCKER_SETUP.zh.md`** - å®Œæ•´è®¾ç½®æŒ‡å—
    - è¯¦ç»†æ¶æ„è¯´æ˜
    - æœåŠ¡æ–‡æ¡£
    - å·ç®¡ç†
    - å¤‡ä»½å’Œæ¢å¤ç¨‹åº
    - é«˜çº§æ•…éšœæ’é™¤
    - ç”Ÿäº§éƒ¨ç½²æŒ‡å—

12. **`DOCKER_DEV.zh.md`** - å¼€å‘å·¥ä½œæµç¨‹æŒ‡å—
    - æœ¬åœ°å¼€å‘è®¾ç½®
    - è°ƒè¯•æŠ€å·§
    - æ•°æ®åº“ç®¡ç†
    - æ€§èƒ½ä¼˜åŒ–
    - æµ‹è¯•ç¨‹åº

13. **`DOCKER_SUMMARY.zh.md`** - æœ¬æ–‡ä»¶
    - æ‰€æœ‰æ–‡ä»¶çš„å®Œæ•´æ¦‚è§ˆ
    - ä½¿ç”¨è¯´æ˜
    - æ¶æ„ä¼˜åŠ¿

### æ›´æ–°çš„æ–‡ä»¶

14. **`socketio_bridge.py`** - å¢å¼ºçš„ Socket.IO æ¡¥æ¥
    - æ·»åŠ äº† Redis æ”¯æŒä»¥å®ç°å¯æ‰©å±•æ€§
    - å¤šå®ä¾‹åè°ƒ
    - å¯é…ç½®çš„ Redis URL
    - ä¼˜é›…åœ°å›é€€åˆ°å†…å­˜æ¨¡å¼

## æ¶æ„

### æœåŠ¡é€šä¿¡æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Docker ç½‘ç»œ                          â”‚
â”‚                   (open-webui-network)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   å‰ç«¯       â”‚â”€â”€â”€â”€â–ºâ”‚  Rust åç«¯     â”‚               â”‚
â”‚  â”‚  å®¹å™¨        â”‚     â”‚   å®¹å™¨         â”‚               â”‚
â”‚  â”‚              â”‚     â”‚                â”‚               â”‚
â”‚  â”‚  - SvelteKit â”‚     â”‚  - Actix-web   â”‚               â”‚
â”‚  â”‚  - Python BE â”‚     â”‚  - REST API    â”‚               â”‚
â”‚  â”‚  ç«¯å£: 8080  â”‚     â”‚  ç«¯å£: 8080    â”‚               â”‚
â”‚  â”‚  æš´éœ²: 3000  â”‚     â”‚  æš´éœ²: 8080    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         â”‚                  â”‚                            â”‚
â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚         â”‚    â”‚                        â”‚                â”‚
â”‚         â”‚    â–¼                        â–¼                â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚         â”‚  â”‚  PostgreSQL  â”‚    â”‚    Redis    â”‚        â”‚
â”‚         â”‚  â”‚  å®¹å™¨        â”‚    â”‚  å®¹å™¨       â”‚        â”‚
â”‚         â”‚  â”‚              â”‚    â”‚             â”‚        â”‚
â”‚         â”‚  â”‚  ç«¯å£: 5432  â”‚    â”‚  ç«¯å£: 6379 â”‚        â”‚
â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â”‚                              â”‚               â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         â”‚  â”‚                                           â”‚
â”‚         â”‚  â–¼                                           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚            â”‚                â”‚                           â”‚
â”‚            â–¼                â”‚                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                           â”‚
â”‚     â”‚  Socket.IO       â”‚â—„â”€â”€â”˜                           â”‚
â”‚     â”‚  æ¡¥æ¥            â”‚                               â”‚
â”‚     â”‚  å®¹å™¨            â”‚                               â”‚
â”‚     â”‚                  â”‚                               â”‚
â”‚     â”‚  - Python 3.11   â”‚                               â”‚
â”‚     â”‚  - WebSocket     â”‚                               â”‚
â”‚     â”‚  ç«¯å£: 8081      â”‚                               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æŒä¹…åŒ–

```
Docker å·
â”œâ”€â”€ postgres_dataï¼ˆæˆ– postgres_data_devï¼‰
â”‚   â””â”€â”€ æ‰€æœ‰æ•°æ®åº“è¡¨ã€ç´¢å¼•å’Œæ•°æ®
â”‚
â”œâ”€â”€ redis_dataï¼ˆæˆ– redis_data_devï¼‰
â”‚   â””â”€â”€ ç¼“å­˜æ•°æ®ã€ä¼šè¯ä¿¡æ¯ã€WebSocket çŠ¶æ€
â”‚
â”œâ”€â”€ rust_backend_data
â”‚   â”œâ”€â”€ uploads/    - ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶
â”‚   â””â”€â”€ cache/      - ä¸´æ—¶ç¼“å­˜æ–‡ä»¶
â”‚
â””â”€â”€ frontend_data
    â”œâ”€â”€ åµŒå…¥æ¨¡å‹
    â”œâ”€â”€ whisper æ¨¡å‹
    â””â”€â”€ å…¶ä»– AI æ¨¡å‹
```

## å…³é”®ç‰¹æ€§

### âœ… ç”Ÿäº§å°±ç»ª
- æ‰€æœ‰æœåŠ¡çš„å¥åº·æ£€æŸ¥
- é€‚å½“çš„æœåŠ¡ä¾èµ–é¡ºåº
- è‡ªåŠ¨æ•°æ®åº“è¿ç§»
- ä½¿ç”¨å·è¿›è¡Œæ•°æ®æŒä¹…åŒ–
- ä¼˜é›…å…³é—­å¤„ç†
- é‡å¯ç­–ç•¥

### âœ… å¼€å‘è€…å‹å¥½
- ç‹¬ç«‹çš„å¼€å‘å’Œç”Ÿäº§é…ç½®
- å¯é€‰çš„ç®¡ç†å·¥å…·ï¼ˆpgAdminã€Redis Commanderï¼‰
- æ”¯æŒæœ¬åœ°å¼€å‘çš„çƒ­é‡è½½
- è¯¦ç»†æ—¥å¿—è®°å½•
- è½»æ¾è®¿é—®å®¹å™¨ shell
- ç”¨äºä»£ç æ›´æ”¹çš„å·æŒ‚è½½

### âœ… å¯æ‰©å±•æ¶æ„
- æ”¯æŒå¤šå®ä¾‹çš„ Redis åç«¯ Socket.IO
- PostgreSQL çš„è¿æ¥æ± 
- é«˜æ•ˆçš„ç¼“å­˜ç­–ç•¥
- æ— çŠ¶æ€åç«¯è®¾è®¡
- è´Ÿè½½å‡è¡¡å™¨å°±ç»ª

### âœ… æ³¨é‡å®‰å…¨
- åŸºäºç¯å¢ƒå˜é‡çš„é…ç½®
- æ— ç¡¬ç¼–ç å‡­æ®
- å¯é…ç½®çš„ CORS ç­–ç•¥
- åŸºäº JWT çš„èº«ä»½éªŒè¯
- å®‰å…¨å¯†ç å“ˆå¸Œï¼ˆArgon2ï¼‰
- å¯é€‰çš„é root å®¹å™¨æ‰§è¡Œ

### âœ… æ˜“äºç®¡ç†
- å•å‘½ä»¤è®¾ç½®
- äº¤äº’å¼ç®¡ç†è„šæœ¬
- åŸºäº Make çš„æ›¿ä»£æ–¹æ¡ˆ
- å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½
- å¥åº·ç›‘æ§
- æ—¥å¿—èšåˆ

## ä½¿ç”¨ç¤ºä¾‹

### å¿«é€Ÿå…¥é—¨ï¼ˆæ–°ç”¨æˆ·ï¼‰

```bash
# è®¾ç½®
./docker-manage.sh setup

# å¯åŠ¨
./docker-manage.sh start

# æŸ¥çœ‹æ—¥å¿—
./docker-manage.sh logs

# æ£€æŸ¥å¥åº·çŠ¶æ€
./docker-manage.sh health
```

### å¼€å‘å·¥ä½œæµç¨‹

```bash
# ä»…å¯åŠ¨åŸºç¡€è®¾æ–½
docker-compose -f docker-compose.dev.yaml up -d

# åœ¨ç»ˆç«¯ 1 ä¸­ï¼šè¿è¡Œ Rust åç«¯
cd rust-backend
cargo run

# åœ¨ç»ˆç«¯ 2 ä¸­ï¼šè¿è¡Œå‰ç«¯
npm run dev

# è®¿é—® http://localhost:5173
```

### ç”Ÿäº§éƒ¨ç½²

```bash
# 1. é…ç½® .env
cp env.example .env
# ä½¿ç”¨ç”Ÿäº§å€¼ç¼–è¾‘ .env

# 2. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 3. è®¾ç½®åå‘ä»£ç†ï¼ˆnginx/Traefikï¼‰
# 4. é…ç½® SSL/TLS
# 5. è®¾ç½®è‡ªåŠ¨å¤‡ä»½

# ç›‘æ§
docker-compose logs -f
./docker-manage.sh health
```

### ç»´æŠ¤

```bash
# å¤‡ä»½
./docker-manage.sh backup

# æ¢å¤
./docker-manage.sh restore backups/db_backup_20250101_120000.sql

# æ›´æ–°æœåŠ¡
git pull
./docker-manage.sh rebuild
./docker-manage.sh start

# æŸ¥çœ‹ç‰¹å®šæ—¥å¿—
./docker-manage.sh logs rust-backend
```

## ä¼˜åŠ¿

### å¯¹å¼€å‘è€…
1. **å¿«é€Ÿè®¾ç½®** - ä»å…‹éš†åˆ°è¿è¡Œ 3 åˆ†é’Ÿ
2. **éš”ç¦»ç¯å¢ƒ** - ä¸æœ¬åœ°å·¥å…·æ— å†²çª
3. **æ˜“äºæµ‹è¯•** - å¿«é€Ÿå¯åŠ¨æ–°ç¯å¢ƒ
4. **è°ƒè¯•å·¥å…·** - åŒ…å« pgAdminã€Redis Commander
5. **çƒ­é‡è½½** - ä½¿ç”¨ cargo watch å¿«é€Ÿè¿­ä»£

### å¯¹ç”¨æˆ·
1. **ç®€å•éƒ¨ç½²** - ä¸€æ¡å‘½ä»¤å¯åŠ¨
2. **æ˜“äºæ›´æ–°** - æ‹‰å–å¹¶é‡æ–°æ„å»º
3. **æ•°æ®å®‰å…¨** - è‡ªåŠ¨å¤‡ä»½
4. **ç›‘æ§** - å†…ç½®å¥åº·æ£€æŸ¥
5. **æ–‡æ¡£** - å…¨é¢æŒ‡å—

### å¯¹ DevOps
1. **ç”Ÿäº§å°±ç»ª** - é€‚å½“çš„å¥åº·æ£€æŸ¥å’Œä¾èµ–å…³ç³»
2. **å¯æ‰©å±•** - Redis åç«¯ã€æ— çŠ¶æ€è®¾è®¡
3. **å¯è§‚å¯Ÿ** - è¯¦ç»†æ—¥å¿—å’ŒæŒ‡æ ‡
4. **å¯ç»´æŠ¤** - æ¸…æ™°é…ç½®ã€æ˜“äºæ›´æ–°
5. **å®‰å…¨** - éµå¾ªæœ€ä½³å®è·µ

## æ€§èƒ½

### åº”ç”¨çš„ä¼˜åŒ–

1. **å¤šé˜¶æ®µ Docker æ„å»º** - æ›´å°çš„é•œåƒã€æ›´å¿«çš„æ‹‰å–
2. **ä¾èµ–ç¼“å­˜** - æ›´å¿«çš„é‡å»º
3. **è¿æ¥æ± ** - é«˜æ•ˆçš„æ•°æ®åº“è®¿é—®
4. **Redis ç¼“å­˜** - å‡å°‘æ•°æ®åº“è´Ÿè½½
5. **å¥åº·æ£€æŸ¥è°ƒä¼˜** - æœ€ä½³å¯åŠ¨æ—¶é—´

### èµ„æºä½¿ç”¨ï¼ˆå…¸å‹ï¼‰

| æœåŠ¡ | CPU | å†…å­˜ | ç£ç›˜ |
|---------|-----|--------|------|
| PostgreSQL | 5-10% | 256MB | 1GB |
| Redis | 2-5% | 128MB | 100MB |
| Rust åç«¯ | 5-15% | 256MB | 50MB |
| Socket.IO | 2-5% | 128MB | 50MB |
| å‰ç«¯ | 10-20% | 512MB | 2GB |
| **æ€»è®¡** | **~25-55%** | **~1.2GB** | **~3.2GB** |

*åœ¨ 4 æ ¸ã€8GB å†…å­˜ç³»ç»Ÿä¸Š*

## å­¦ä¹ èµ„æº

### ç†è§£æ ˆ
1. ä» `DOCKER_README.zh.md` å¼€å§‹äº†è§£æ¦‚è§ˆ
2. éµå¾ª `DOCKER_QUICKSTART.zh.md` å¼€å§‹è¿è¡Œ
3. é˜…è¯» `DOCKER_DEV.zh.md` äº†è§£å¼€å‘å·¥ä½œæµç¨‹
4. å‚è€ƒ `DOCKER_SETUP.zh.md` äº†è§£è¯¦ç»†ä¿¡æ¯

### Docker Compose å‘½ä»¤
```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f [service]

# åœæ­¢æœåŠ¡
docker-compose down

# é‡æ–°æ„å»ºæœåŠ¡
docker-compose build [service]

# æ‰©å±•æœåŠ¡
docker-compose up -d --scale rust-backend=3

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# æ‰§è¡Œå‘½ä»¤
docker-compose exec [service] [command]
```

### ç®¡ç†è„šæœ¬å‘½ä»¤
```bash
./docker-manage.sh help           # æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
./docker-manage.sh setup          # è®¾ç½®ç¯å¢ƒ
./docker-manage.sh start          # å¯åŠ¨æ‰€æœ‰æœåŠ¡
./docker-manage.sh stop           # åœæ­¢æ‰€æœ‰æœåŠ¡
./docker-manage.sh restart [svc]  # é‡å¯æœåŠ¡
./docker-manage.sh logs [svc]     # æŸ¥çœ‹æ—¥å¿—
./docker-manage.sh status         # æœåŠ¡çŠ¶æ€
./docker-manage.sh health         # å¥åº·æ£€æŸ¥
./docker-manage.sh shell [svc]    # æ‰“å¼€ shell
./docker-manage.sh backup         # å¤‡ä»½æ•°æ®
./docker-manage.sh restore [file] # æ¢å¤å¤‡ä»½
./docker-manage.sh rebuild [svc]  # é‡æ–°æ„å»ºæœåŠ¡
./docker-manage.sh clean          # åˆ é™¤æ‰€æœ‰å†…å®¹
```

### Make å‘½ä»¤ï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰
```bash
make help              # æ˜¾ç¤ºæ‰€æœ‰å‘½ä»¤
make setup            # è®¾ç½®ç¯å¢ƒ
make start            # å¯åŠ¨æœåŠ¡
make stop             # åœæ­¢æœåŠ¡
make logs             # æŸ¥çœ‹æ—¥å¿—
make health           # å¥åº·æ£€æŸ¥
make backup           # å¤‡ä»½æ•°æ®
make dev-start        # å¯åŠ¨å¼€å‘åŸºç¡€è®¾æ–½
make dev-tools        # ä½¿ç”¨ç®¡ç†å·¥å…·å¯åŠ¨
```

## æ–‡ä»¶ä½ç½®

```
open-webui-rust/
â”œâ”€â”€ docker-compose.yaml           # ç”Ÿäº§é…ç½®
â”œâ”€â”€ docker-compose.dev.yaml       # å¼€å‘é…ç½®
â”œâ”€â”€ env.example                   # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .dockerignore                 # Docker æ„å»ºå¿½ç•¥è§„åˆ™
â”‚
â”œâ”€â”€ Dockerfile                    # å‰ç«¯ Dockerfile
â”‚
â”œâ”€â”€ docker-manage.sh              # ç®¡ç†è„šæœ¬ â­
â”œâ”€â”€ Makefile.docker               # åŸºäº Make çš„ç®¡ç†
â”‚
â”œâ”€â”€ DOCKER_README.zh.md           # æ¦‚è§ˆå’Œå¯¼èˆª â­
â”œâ”€â”€ DOCKER_QUICKSTART.zh.md       # 3åˆ†é’Ÿå¿«é€Ÿå…¥é—¨ â­
â”œâ”€â”€ DOCKER_SETUP.zh.md            # å®Œæ•´è®¾ç½®æŒ‡å—
â”œâ”€â”€ DOCKER_DEV.zh.md              # å¼€å‘æŒ‡å—
â””â”€â”€ DOCKER_SUMMARY.zh.md          # æœ¬æ–‡ä»¶
â”‚
â””â”€â”€ rust-backend/
    â”œâ”€â”€ Dockerfile                # Rust åç«¯ Dockerfile
    â”œâ”€â”€ Dockerfile.socketio       # Socket.IO æ¡¥æ¥ Dockerfile
    â”œâ”€â”€ socketio_bridge.py        # Socket.IO æ¡¥æ¥ï¼ˆå¢å¼ºï¼‰
    â”œâ”€â”€ .dockerignore             # Rust ç‰¹å®šå¿½ç•¥è§„åˆ™
    â”‚
    â””â”€â”€ migrations/
        â””â”€â”€ postgres/             # æ•°æ®åº“è¿ç§»
            â”œâ”€â”€ 001_initial.sql
            â”œâ”€â”€ 002_add_missing_columns.sql
            â”œâ”€â”€ 003_add_config_table.sql
            â”œâ”€â”€ 004_add_channel_messages.sql
            â””â”€â”€ 005_add_note_feedback_tables.sql
```

## ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ

### å³æ—¶åç»­æ­¥éª¤
1. âœ… æµ‹è¯•è®¾ç½®ï¼š`./docker-manage.sh setup && ./docker-manage.sh start`
2. âœ… åœ¨ http://localhost:3000 åˆ›å»ºç¬¬ä¸€ä¸ªç®¡ç†å‘˜è´¦æˆ·
3. âœ… æµ‹è¯•å®æ—¶åŠŸèƒ½ï¼ˆèŠå¤©ã€é¢‘é“ï¼‰
4. âœ… è¿è¡Œå¤‡ä»½ï¼š`./docker-manage.sh backup`

### æœªæ¥å¢å¼º
- [ ] Kubernetes éƒ¨ç½²æ¸…å•
- [ ] ç›‘æ§æ ˆï¼ˆPrometheusã€Grafanaï¼‰
- [ ] CI/CD æµæ°´çº¿ç¤ºä¾‹
- [ ] è´Ÿè½½æµ‹è¯•è„šæœ¬
- [ ] å¤šæ¶æ„æ„å»ºï¼ˆARM64ï¼‰

## ğŸ‰ æ€»ç»“

æ‚¨ç°åœ¨æ‹¥æœ‰ Open WebUI çš„**å®Œæ•´ã€ç”Ÿäº§å°±ç»ªçš„ Docker è®¾ç½®**ï¼š

- âœ… å…¨æ ˆå®¹å™¨åŒ–
- âœ… å¼€å‘å’Œç”Ÿäº§é…ç½®
- âœ… ç®¡ç†å·¥å…·å’Œè„šæœ¬
- âœ… å…¨é¢æ–‡æ¡£
- âœ… å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½
- âœ… å¥åº·ç›‘æ§
- âœ… é€šè¿‡ Socket.IO çš„å®æ—¶åŠŸèƒ½
- âœ… æ•°æ®åº“è¿ç§»
- âœ… Redis ç¼“å­˜
- âœ… å®‰å…¨æœ€ä½³å®è·µ

**å¼€å§‹ä½¿ç”¨**ï¼š`./docker-manage.sh setup && ./docker-manage.sh start`

**æ–‡æ¡£**ï¼š`DOCKER_README.zh.md` â†’ `DOCKER_QUICKSTART.zh.md`

**éœ€è¦å¸®åŠ©**ï¼š`./docker-manage.sh help` æˆ–é˜…è¯»æŒ‡å—ï¼

---

